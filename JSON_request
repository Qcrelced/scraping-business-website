{
  "Name": "AutoRequestBusinessSite",
  "CreationDate": "2024-1-17",
  "Commands": [
    {
      "Command": "open",
      "Target": "https://www.google.com",
      "Value": "",
      "Description": "Ouvre Google"
    },
    {
      "Command": "type",
      "Target": "name=q",
      "Value": "Votre Recherche",
      "Description": "Effectue une recherche sur Google"
    },
    {
      "Command": "sendKeys",
      "Target": "name=q",
      "Value": "${KEY_ENTER}",
      "Description": "Appuie sur Entrée pour lancer la recherche"
    },
    {
      "Command": "waitForPageToLoad",
      "Target": "3000",
      "Value": "",
      "Description": ""
    },
    {
      "Command": "store",
      "Target": "true",
      "Value": "continueLoop",
      "Description": "Initialise la variable de contrôle de la boucle"
    },
    {
      "Command": "while",
      "Target": "${continueLoop}",
      "Value": "",
      "Description": "Début de la boucle pour traiter chaque page de résultats"
    },
    {
      "Command": "sourceExtract",
      "Target": "regex=<a href=\"(https?://[^\"]+)\"",
      "Value": "extractedUrls",
      "Description": "Extrait les URLs de la page actuelle"
    },
    {
      "Command": "verifyElementPresent",
      "Target": "xpath=//*[@id=\"botstuff\"]/div/div[3]/div[4]/a/h3/div",
      "Value": "elementExist",
      "Description": "Extrait les URLs de la page actuelle"
    },
    {
      "Command": "if_v2",
      "Target": "${!statusOK}== true",
      "Value": "",
      "Description": "Vérifie si le bouton 'Plus de résultats' est présent"
    },
    {
      "Command": "click",
      "Target": "xpath=//*[@id=\"botstuff\"]/div/div[3]/div[4]/a/h3/div",
      "Value": "",
      "Description": "Clique sur le bouton 'Plus de résultats'"
    },
    {
      "Command": "waitForPageToLoad",
      "Target": "",
      "Value": "",
      "Description": "Attend que la page suivante se charge"
    },
    {
      "Command": "end",
      "Target": "",
      "Value": "",
      "Description": "Fin de la condition if"
    },
    {
      "Command": "store",
      "Target": "false",
      "Value": "continueLoop",
      "Description": "Met à jour la variable de la boucle pour arrêter si le bouton 'Plus de résultats' n'est plus présent"
    },
    {
      "Command": "endWhile",
      "Target": "",
      "Value": "",
      "Description": "Fin de la boucle while"
    }
  ]
}
